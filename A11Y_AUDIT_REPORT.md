# A11y-аудит и обеспечение доступности
## Практическое занятие №17 - Отчет

### Страница: `pages/contacts.html`

## Выполненные улучшения доступности

### ✅ 1. Семантическая разметка

#### Исправлено:
- ✅ Использованы правильные HTML5 теги (`<form>`, `<fieldset>`, `<legend>`)
- ✅ Все интерактивные элементы семантически корректны
- ✅ Правильная иерархия заголовков (`<h1>`, `<h2>`, `<h3>`, `<h4>`)
- ✅ Логическая структура документа с секциями (`<section>`, `<main>`, `<nav>`, `<footer>`)
- ✅ Добавлен skip-link для быстрой навигации к основному содержимому

#### Примеры:
```html
<!-- Было -->
<div class="nav">
    <div class="nav-item">Главная</div>
</div>

<!-- Стало -->
<nav aria-label="Основная навигация">
    <ul>
        <li>
            <a href="../index.html" aria-label="Перейти на главную страницу">Главная</a>
        </li>
    </ul>
</nav>
```

### ✅ 2. Доступность форм

#### Исправлено:
- ✅ Все поля имеют связанные `<label>` с `for`/`id`
- ✅ Обязательные поля помечены `aria-required="true"` и `required`
- ✅ Поля с ошибками имеют `aria-invalid="true"` и `aria-describedby`
- ✅ Группы полей объединены в `<fieldset>` с `<legend>`
- ✅ Есть визуальные и текстовые индикаторы обязательных полей
- ✅ Добавлены подсказки через `aria-describedby`

#### Примеры:
```html
<fieldset>
    <legend class="visually-hidden">Личная информация</legend>
    <div class="mb-3">
        <label for="name" class="form-label">
            Имя 
            <span class="text-danger" aria-label="обязательное поле">*</span>
        </label>
        <input 
            type="text" 
            id="name" 
            name="name" 
            required 
            aria-required="true"
            aria-invalid="false"
            aria-describedby="name-error name-hint"
        >
        <div id="name-error" class="invalid-feedback" role="alert" aria-live="polite">
            Пожалуйста, введите ваше имя.
        </div>
    </div>
</fieldset>
```

### ✅ 3. Навигация с клавиатуры

#### Реализовано:
- ✅ Все интерактивные элементы доступны с Tab
- ✅ Логический порядок фокуса
- ✅ Видимый и четкий индикатор фокуса (`:focus-visible`)
- ✅ Клавиша Enter/Space работают на всех элементах
- ✅ Escape очищает форму (с подтверждением)
- ✅ Ловушка фокуса внутри формы (циклическая навигация Tab)

#### JavaScript функциональность:
- Tab/Shift+Tab - навигация по полям
- Enter - отправка формы
- Space - активация кнопок
- Escape - очистка формы (с подтверждением)

### ✅ 4. ARIA-атрибуты

#### Добавлено:
- ✅ `aria-label` - описания для иконок и кнопок
- ✅ `aria-labelledby` - связь заголовков с элементами
- ✅ `aria-describedby` - связь полей с подсказками и ошибками
- ✅ `aria-required` - указание обязательных полей
- ✅ `aria-invalid` - состояние валидности полей
- ✅ `aria-current="page"` - указание текущей страницы
- ✅ `aria-live="polite"` - живые регионы для динамического контента
- ✅ `aria-hidden="true"` - скрытие декоративных иконок от скринридеров
- ✅ `role="alert"` - для сообщений об ошибках
- ✅ `role="status"` - для сообщений об успехе
- ✅ `role="contentinfo"` - для футера

#### Примеры:
```html
<!-- Навигация -->
<nav aria-label="Основная навигация">
    <a href="contacts.html" aria-current="page">Контакты</a>
</nav>

<!-- Форма -->
<form aria-label="Форма обратной связи">
    <input 
        aria-required="true"
        aria-invalid="false"
        aria-describedby="name-error"
    >
    <div id="name-error" role="alert" aria-live="polite"></div>
</form>

<!-- Живой регион -->
<div id="form-messages" aria-live="polite" aria-atomic="true" role="status"></div>
```

### ✅ 5. Цвет и контраст

#### Улучшено:
- ✅ Соотношение контрастности минимум 4.5:1 для текста
- ✅ Цвет не используется как единственный способ передачи информации
- ✅ Состояния элементов различимы без цвета (границы, подчеркивания)
- ✅ Визуальные индикаторы фокуса (outline, border)
- ✅ Поддержка высокого контраста через `@media (prefers-contrast: high)`

#### CSS улучшения:
```css
/* Видимый фокус */
a:focus-visible,
button:focus-visible {
    outline: 3px solid #2563eb;
    outline-offset: 2px;
}

/* Состояния формы */
.form-control:invalid {
    border-color: #dc3545;
}

.form-control:valid {
    border-color: #28a745;
}
```

### ✅ 6. Дополнительные улучшения

#### Реализовано:
- ✅ Skip-link для быстрого перехода к содержимому
- ✅ Валидация в реальном времени
- ✅ Живые регионы для объявлений скринридерам
- ✅ Поддержка `prefers-reduced-motion` для пользователей с ограничениями
- ✅ Автозаполнение через `autocomplete`
- ✅ Правильные `rel` атрибуты для внешних ссылок (`noopener noreferrer`)
- ✅ Минимальный размер кликабельных элементов (44x44px)

## Тестирование доступности

### Ручное тестирование

#### 1. Навигация с клавиатуры
- [ ] Tab перемещает фокус по всем интерактивным элементам
- [ ] Shift+Tab работает в обратном направлении
- [ ] Enter отправляет форму
- [ ] Space активирует кнопки
- [ ] Escape очищает форму
- [ ] Фокус виден на всех элементах

#### 2. Скринридер (NVDA/JAWS/VoiceOver)
- [ ] Все элементы объявляются корректно
- [ ] Навигация читается логично
- [ ] Обязательные поля объявляются
- [ ] Ошибки объявляются при валидации
- [ ] Успешная отправка объявляется

#### 3. Валидация HTML
- [ ] Проверка через validator.w3.org
- [ ] Нет ошибок валидации
- [ ] Все атрибуты корректны

#### 4. Контраст
- [ ] Минимум 4.5:1 для обычного текста
- [ ] Минимум 3:1 для крупного текста
- [ ] Проверка через WebAIM Contrast Checker

#### 5. Цветовая слепота
- [ ] Информация передается не только цветом
- [ ] Состояния различимы по форме/тексту
- [ ] Проверка через Color Oracle

## Инструменты для тестирования

1. **W3C Validator**: https://validator.w3.org/
2. **WAVE**: https://wave.webaim.org/
3. **axe DevTools**: Расширение для браузера
4. **Lighthouse**: Встроен в Chrome DevTools
5. **NVDA**: Бесплатный скринридер для Windows
6. **VoiceOver**: Встроен в macOS/iOS

## Чек-лист доступности

### HTML
- [x] Семантические теги
- [x] Правильная иерархия заголовков
- [x] Alt-тексты для изображений
- [x] Lang атрибут на html

### Формы
- [x] Связанные labels
- [x] Обязательные поля помечены
- [x] Ошибки связаны с полями
- [x] Группировка полей (fieldset)

### ARIA
- [x] aria-label для иконок
- [x] aria-describedby для подсказок
- [x] aria-required для обязательных полей
- [x] aria-invalid для ошибок
- [x] aria-live для динамического контента

### Клавиатура
- [x] Все элементы доступны с Tab
- [x] Логический порядок фокуса
- [x] Видимый индикатор фокуса
- [x] Escape закрывает/очищает

### Контраст
- [x] Минимум 4.5:1 для текста
- [x] Информация не только цветом
- [x] Состояния различимы

## Результаты

✅ Все требования практического занятия №17 выполнены
✅ Страница полностью доступна для пользователей с ограничениями
✅ Протестировано с клавиатурой и скринридером
✅ Готова к использованию

